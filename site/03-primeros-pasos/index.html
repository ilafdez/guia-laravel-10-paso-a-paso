
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../images/favicon.svg">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.0b4">
    
    
      
        <title>Primeros pasos - Aprende Laravel 9 paso a paso</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.91872f81.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tu-primera-aplicacion-en-7-pasos" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Aprende Laravel 9 paso a paso" class="md-header__button md-logo" aria-label="Aprende Laravel 9 paso a paso" data-md-component="logo">
      
  <img src="../images/logo1.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Aprende Laravel 9 paso a paso
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Primeros pasos
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_3" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_3">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Aprende Laravel 9 paso a paso" class="md-nav__button md-logo" aria-label="Aprende Laravel 9 paso a paso" data-md-component="logo">
      
  <img src="../images/logo1.svg" alt="logo">

    </a>
    Aprende Laravel 9 paso a paso
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Principal
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../01-introduccion/" class="md-nav__link">
        Introducción
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../02-entorno/" class="md-nav__link">
        Preparación del entorno
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Primeros pasos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Primeros pasos
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#paso-1-crea-tu-primer-proyecto" class="md-nav__link">
    Paso 1 - Crea tu primer proyecto
  </a>
  
    <nav class="md-nav" aria-label="Paso 1 - Crea tu primer proyecto">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crea-la-aplicacion-dentro-de-la-maquina-virtual" class="md-nav__link">
    Crea la aplicación dentro de la máquina virtual
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generar-la-clave-de-la-aplicacion-application-key" class="md-nav__link">
    Generar la clave de la aplicación (Application Key)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#establecer-los-permisos-de-directorio" class="md-nav__link">
    Establecer los permisos de directorio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hands-on-17" class="md-nav__link">
    Hands on! (1/7)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paso-2-crear-un-router" class="md-nav__link">
    Paso 2 - Crear un Router
  </a>
  
    <nav class="md-nav" aria-label="Paso 2 - Crear un Router">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ver-las-rutas-creadas" class="md-nav__link">
    Ver las rutas creadas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devolver-un-json" class="md-nav__link">
    Devolver un JSON
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parametros-en-la-ruta" class="md-nav__link">
    Parámetros en la ruta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acceder-a-la-informacion-de-la-peticion" class="md-nav__link">
    Acceder a la información de la petición
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rutas-con-nombre" class="md-nav__link">
    Rutas con nombre
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hands-on-27" class="md-nav__link">
    Hands on! (2/7)
  </a>
  
    <nav class="md-nav" aria-label="Hands on! (2/7)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solucion" class="md-nav__link">
    Solución
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paso-3-crear-una-vista" class="md-nav__link">
    Paso 3 - Crear una vista
  </a>
  
    <nav class="md-nav" aria-label="Paso 3 - Crear una vista">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#definiendo-una-vista-sencilla" class="md-nav__link">
    Definiendo una vista sencilla
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devolver-una-vista" class="md-nav__link">
    Devolver una vista
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acceder-a-datos-desde-la-vista" class="md-nav__link">
    Acceder a datos desde la vista
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hands-on-37" class="md-nav__link">
    Hands on! (3/7)
  </a>
  
    <nav class="md-nav" aria-label="Hands on! (3/7)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solucion_1" class="md-nav__link">
    Solución
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paso-4-crear-un-controlador" class="md-nav__link">
    Paso 4 - Crear un Controlador
  </a>
  
    <nav class="md-nav" aria-label="Paso 4 - Crear un Controlador">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creando-un-controller" class="md-nav__link">
    Creando un Controller
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enrutar-el-controlador" class="md-nav__link">
    Enrutar el Controlador
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hands-on-47" class="md-nav__link">
    Hands on! (4/7)
  </a>
  
    <nav class="md-nav" aria-label="Hands on! (4/7)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solucion_2" class="md-nav__link">
    Solución
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paso-5-configurar-la-base-de-datos" class="md-nav__link">
    Paso 5 - Configurar la base de datos
  </a>
  
    <nav class="md-nav" aria-label="Paso 5 - Configurar la base de datos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuracion-de-la-base-de-datos" class="md-nav__link">
    Configuración de la base de datos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solo-en-homestead-creacion-de-la-base-de-datos" class="md-nav__link">
    (Solo en Homestead) Creación de la base de datos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crear-un-usuario-de-base-de-datos" class="md-nav__link">
    Crear un usuario de base de datos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paso-6-crear-la-migracion-migration" class="md-nav__link">
    Paso 6 - Crear la Migración (Migration)
  </a>
  
    <nav class="md-nav" aria-label="Paso 6 - Crear la Migración (Migration)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hands-on-57" class="md-nav__link">
    Hands on! (5/7)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paso-7-crear-un-modelo" class="md-nav__link">
    Paso 7 - Crear un Modelo
  </a>
  
    <nav class="md-nav" aria-label="Paso 7 - Crear un Modelo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creando-un-modelo" class="md-nav__link">
    Creando un Modelo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consultando-datos-de-la-base-de-datos" class="md-nav__link">
    Consultando datos de la base de datos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insertar-informacion-en-la-base-de-datos" class="md-nav__link">
    Insertar información en la base de datos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valores-por-defecto-de-un-modelo" class="md-nav__link">
    Valores por defecto de un modelo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alternativas-a-eloquent-orm" class="md-nav__link">
    Alternativas a Eloquent ORM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tinker-un-potente-repl-para-laravel" class="md-nav__link">
    Tinker: un potente REPL para Laravel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hands-on-67" class="md-nav__link">
    Hands on! (6/7)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hands-on-77" class="md-nav__link">
    Hands on! (7/7)
  </a>
  
    <nav class="md-nav" aria-label="Hands on! (7/7)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solucion_3" class="md-nav__link">
    Solución
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bonus-opciones-flags-de-artisan" class="md-nav__link">
    Bonus - Opciones (flags) de Artisan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#siguientes-pasos" class="md-nav__link">
    Siguientes pasos
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../04-Nivel-intermedio/" class="md-nav__link">
        Nivel intermedio
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#paso-1-crea-tu-primer-proyecto" class="md-nav__link">
    Paso 1 - Crea tu primer proyecto
  </a>
  
    <nav class="md-nav" aria-label="Paso 1 - Crea tu primer proyecto">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crea-la-aplicacion-dentro-de-la-maquina-virtual" class="md-nav__link">
    Crea la aplicación dentro de la máquina virtual
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generar-la-clave-de-la-aplicacion-application-key" class="md-nav__link">
    Generar la clave de la aplicación (Application Key)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#establecer-los-permisos-de-directorio" class="md-nav__link">
    Establecer los permisos de directorio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hands-on-17" class="md-nav__link">
    Hands on! (1/7)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paso-2-crear-un-router" class="md-nav__link">
    Paso 2 - Crear un Router
  </a>
  
    <nav class="md-nav" aria-label="Paso 2 - Crear un Router">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ver-las-rutas-creadas" class="md-nav__link">
    Ver las rutas creadas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devolver-un-json" class="md-nav__link">
    Devolver un JSON
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parametros-en-la-ruta" class="md-nav__link">
    Parámetros en la ruta
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acceder-a-la-informacion-de-la-peticion" class="md-nav__link">
    Acceder a la información de la petición
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rutas-con-nombre" class="md-nav__link">
    Rutas con nombre
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hands-on-27" class="md-nav__link">
    Hands on! (2/7)
  </a>
  
    <nav class="md-nav" aria-label="Hands on! (2/7)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solucion" class="md-nav__link">
    Solución
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paso-3-crear-una-vista" class="md-nav__link">
    Paso 3 - Crear una vista
  </a>
  
    <nav class="md-nav" aria-label="Paso 3 - Crear una vista">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#definiendo-una-vista-sencilla" class="md-nav__link">
    Definiendo una vista sencilla
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#devolver-una-vista" class="md-nav__link">
    Devolver una vista
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acceder-a-datos-desde-la-vista" class="md-nav__link">
    Acceder a datos desde la vista
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hands-on-37" class="md-nav__link">
    Hands on! (3/7)
  </a>
  
    <nav class="md-nav" aria-label="Hands on! (3/7)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solucion_1" class="md-nav__link">
    Solución
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paso-4-crear-un-controlador" class="md-nav__link">
    Paso 4 - Crear un Controlador
  </a>
  
    <nav class="md-nav" aria-label="Paso 4 - Crear un Controlador">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creando-un-controller" class="md-nav__link">
    Creando un Controller
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enrutar-el-controlador" class="md-nav__link">
    Enrutar el Controlador
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hands-on-47" class="md-nav__link">
    Hands on! (4/7)
  </a>
  
    <nav class="md-nav" aria-label="Hands on! (4/7)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solucion_2" class="md-nav__link">
    Solución
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paso-5-configurar-la-base-de-datos" class="md-nav__link">
    Paso 5 - Configurar la base de datos
  </a>
  
    <nav class="md-nav" aria-label="Paso 5 - Configurar la base de datos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuracion-de-la-base-de-datos" class="md-nav__link">
    Configuración de la base de datos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solo-en-homestead-creacion-de-la-base-de-datos" class="md-nav__link">
    (Solo en Homestead) Creación de la base de datos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crear-un-usuario-de-base-de-datos" class="md-nav__link">
    Crear un usuario de base de datos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paso-6-crear-la-migracion-migration" class="md-nav__link">
    Paso 6 - Crear la Migración (Migration)
  </a>
  
    <nav class="md-nav" aria-label="Paso 6 - Crear la Migración (Migration)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hands-on-57" class="md-nav__link">
    Hands on! (5/7)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paso-7-crear-un-modelo" class="md-nav__link">
    Paso 7 - Crear un Modelo
  </a>
  
    <nav class="md-nav" aria-label="Paso 7 - Crear un Modelo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creando-un-modelo" class="md-nav__link">
    Creando un Modelo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consultando-datos-de-la-base-de-datos" class="md-nav__link">
    Consultando datos de la base de datos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insertar-informacion-en-la-base-de-datos" class="md-nav__link">
    Insertar información en la base de datos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valores-por-defecto-de-un-modelo" class="md-nav__link">
    Valores por defecto de un modelo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alternativas-a-eloquent-orm" class="md-nav__link">
    Alternativas a Eloquent ORM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tinker-un-potente-repl-para-laravel" class="md-nav__link">
    Tinker: un potente REPL para Laravel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hands-on-67" class="md-nav__link">
    Hands on! (6/7)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hands-on-77" class="md-nav__link">
    Hands on! (7/7)
  </a>
  
    <nav class="md-nav" aria-label="Hands on! (7/7)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solucion_3" class="md-nav__link">
    Solución
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bonus-opciones-flags-de-artisan" class="md-nav__link">
    Bonus - Opciones (flags) de Artisan
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#siguientes-pasos" class="md-nav__link">
    Siguientes pasos
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="tu-primera-aplicacion-en-7-pasos">Tu primera aplicación en 7 pasos</h1>
<p>Ahora que ya tenemos nuestro entorno de desarrollo preparado, crearemos una aplicación web con Laravel paso por paso. Al finalizar los 7 pasos que encontrarás en este capítulo, obtendremos como resultado una revista online a la que hemos llamado RevistApp. Esta aplicación mostrará los artículos de una revista almacenados en una base de datos.md-button. </p>
<p>¿Comenzamos?</p>
<h2 id="paso-1-crea-tu-primer-proyecto">Paso 1 - Crea tu primer proyecto</h2>
<p>Este paso <strong>no es necesario realizarlo si has optado por utilizar Laravel Sail</strong>, ya que Sail creará automáticamente una nueva aplicación junto con el entorno.</p>
<p>Si has decidido utilizar Laravel Homestead o Vagrant como tu entorno de desarrollo, entonces deberás realizar las siguientes acciones:</p>
<h4 id="crea-la-aplicacion-dentro-de-la-maquina-virtual">Crea la aplicación dentro de la máquina virtual</h4>
<p>Accede a tu máquina virtual utilizando el comando <code>vagrant ssh</code> y posicionate en la carpeta donde almacenarás tus proyectos (la carpeta que has indicado en el archivo de configuración <code>Homestead.yaml</code>, por ejemplo: <code>/home/vagrant/proyects</code>). Ejecuta el siguiente comando para crear un nuevo proyecto:</p>
<div class="highlight"><pre><span></span><code>composer create-project laravel/laravel revistapp
</code></pre></div>
<p>Si recibes un error, probablemente sea porque todavía no tienes Composer instalado en tu máquina virtual. Para ello, ejecuta el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>composer global require laravel/installer
</code></pre></div>
<p>Una vez instalado vuelve a ejecutar el comando <code>create-project</code> de Composer. Este comando inicializará un nuevo proyecto creando en el directorio <code>revistapp</code>. Puedes acceder a la aplicación entrando a http://aplicacion1.test (o el dominio que hayas indicado en la configuración) desde tu navegador favorito.</p>
<p>De forma alternativa también puedes utilizar el comando <code>laravel new</code> que también creará un nuevo proyecto de Laravel en la carpeta especificada:</p>
<div class="highlight"><pre><span></span><code>laravel new revistapp
</code></pre></div>
<p>Puedes entrar a la nueva carpeta del proyecto creada, <code>revistapp</code>, para ver los archivos que se han generada. A partir de ahora siempre trabajaremos dentro de este directorio. </p>
<p>Ten en cuenta que en este caso, al haber creado una aplicación llamada <code>revistapp</code>, deberás tener una entrada en tu archivo de configuración <code>Homestead.yaml</code> que referencia a la carpeta <code>/public</code> del proyecto recién creado:</p>
<div class="highlight"><pre><span></span><code><span class="nt">sites</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">map</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">articulos.test</span><span class="w"></span>
<span class="w">      </span><span class="nt">to</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/home/vagrant/code/revistapp/public</span><span class="w"></span>
</code></pre></div>
<h4 id="generar-la-clave-de-la-aplicacion-application-key">Generar la clave de la aplicación (Application Key)</h4>
<p>Laravel utiliza una clave para securizar tu aplicación. La clave de aplicación es un string de 32 caracteres utilizado para encriptar datos como la sesión de usuario. Cuando se instala Laravel utilizando Composer o el instalador de Laravel, la clave se genera automáticamente, por lo que no es necesario hacer nada. Comprueba que existe un valor para <code>APP_KEY</code> en el fichero de configuración <code>.env</code>. En caso de no tener una clave generada, créala utilizando el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>php artisan key:generate
</code></pre></div>
<h4 id="establecer-los-permisos-de-directorio">Establecer los permisos de directorio</h4>
<p>Homestead realiza este paso por nosotros, por lo que si estás utilizando Homestead los permisos deberían estar correctamente establecidos. Si no estás utilizando Homestead o quieres desplegar tu aplicación en un servidor, no olvides establecer permisos de escritura para el servidor web en los directorios <code>storage</code> y  <code>bootstrap/cache</code>.</p>
<h3 id="hands-on-17">Hands on! (1/7)</h3>
<p>Si no lo has hecho ya, crea una aplicación llamada <code>revistapp</code>. Esta será la aplicación que iremos creando paso a paso.</p>
<h2 id="paso-2-crear-un-router">Paso 2 - Crear un Router</h2>
<p>Las rutas son los puntos de entrada a nuestra aplicación. Cada vez que un usuario hace una petición a una de las rutas de la aplicación, Laravel trata la petición mediante un Router definido en el directorio <code>routes</code>, el cual será el encargado de direccionar la petición a un Controlador. Las rutas accesibles para navegadores estarán definidas en el archivo <code>routes/web.php</code> y aquellas accesibles para servicios web (webservices) estarán definidas en el archivo <code>routes/api.php</code>. A continuación se muestra un ejemplo:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/articulos&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;¡Vamos a leer unos articulos!&#39;</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<p>El código anterior muestra cómo se define una ruta básica. En este caso, cuando el usuario realice una petición sobre <code>/articulos</code>, nuestra aplicación ejecutará la función anónima definida. En este caso enviará una respuesta al usuario con el string '¡Vamos a leer unos articulos!'.</p>
<p>Podemos especificar tantas rutas como queramos:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/articulos&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;¡Vamos a leer unos articulos!&#39;</span><span class="p">;</span>
<span class="p">});</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/usuarios&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;Hay muchos usuarios en esta aplicación&#39;</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<p>También es posible responder a peticiones de tipo POST, por ejemplo para recibir datos de formularios: </p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/articulos&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;¡Vamos a leer unos articulos!&#39;</span><span class="p">;</span>
<span class="p">});</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">post</span><span class="p">(</span><span class="s1">&#39;/articulos&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;¡Vamos a insertar un artículo!&#39;</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<p>Aparte de ejecutar las acciones definidas para cada ruta, Laravel ejecutará el middlewere específico en función del Router utilizado (por ejemplo, el middlewere relacionado con las peticiones web proveerá de funcionalidades como el estado de la sesión o la protección <a href="https://es.wikipedia.org/wiki/Cross-site_request_forgery">CSRF</a>).</p>
<h4 id="ver-las-rutas-creadas">Ver las rutas creadas</h4>
<p>La utilidad Artisan de Laravel nos provee de comandos muy útiles (por ejemplo, para crear controladores o migraciones). Disponemos de un comando concreto para mostrar todas las rutas de una aplicación de forma rápida. Basta con ejecutar el siguiente comando en la consola:</p>
<p><div class="highlight"><pre><span></span><code>php artisan route:list
</code></pre></div>
Recuerda que si estás utilizando Laravel Sail, puedes ejecutar el comando directamente los comandos de artisan incluyendo <code>sail</code> al princicio:</p>
<div class="highlight"><pre><span></span><code>sail artisan route:list
</code></pre></div>
<p>Si quieres que Laravel no muestre las rutas creadas por paquetes de terceros (vendor) puedes añadir el flag <code>except-vendor</code> al final:
<div class="highlight"><pre><span></span><code>php artisan route:list --except-vendor
</code></pre></div></p>
<h4 id="devolver-un-json">Devolver un JSON</h4>
<p>También es posible devolver un JSON. Laravel convertirá automáticamente cualquier array a JSON:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/articulos&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nv">$articulos</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;titulo&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Primer artículo...&quot;</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;titulo&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Segundo artículo...&quot;</span>
        <span class="p">]</span>
    <span class="p">];</span>
    <span class="k">return</span> <span class="nv">$articulos</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<h4 id="parametros-en-la-ruta">Parámetros en la ruta</h4>
<p>Una URL puede contener información de nuestro interés. Laravel permite acceder a esta información de forma sencilla utilizando los parámetros de ruta:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;articulos/{id}&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$id</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;Vas a leer el artículo: &#39;</span><span class="o">.</span><span class="nv">$id</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<p>Los parámetros de ruta vienen definidos entre llaves <code>{}</code> y se inyectan automáticamente en las callbacks. Es posible utilizar más de un parámetro de ruta:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;articulos/{id}/usuario/{name}&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$id</span><span class="p">,</span> <span class="nv">$name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;Vas a leer el artículo: &#39;</span><span class="o">.</span><span class="nv">$id</span><span class="o">.</span> <span class="s1">&#39; del usuario&#39;</span> <span class="o">.</span><span class="nv">$name</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<p>Para indicar un parámetro como opcional, le tenemos que añadir el símbolo <code>?</code> al final del parámentro. Le tendremos que añadir un valor por defecto para asegurarnos su correcto funcionamiento:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;articulos/{id?}&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$id</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;Vas a leer el artículo: &#39;</span><span class="o">.</span><span class="nv">$id</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<h4 id="acceder-a-la-informacion-de-la-peticion">Acceder a la información de la petición</h4>
<p>También es posible acceder a la información enviada en la petición mediante el método <code>request()</code>. Por ejemplo, el siguiente código devolverá el valor enviado para el parámetro 'fecha' de la URL <code>/articulos?fecha=hoy</code>:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/articulos&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nv">$fecha</span> <span class="o">=</span> <span class="nx">request</span><span class="p">(</span><span class="s1">&#39;fecha&#39;</span><span class="p">);</span>
    <span class="k">return</span> <span class="nv">$fecha</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div>
<h4 id="rutas-con-nombre">Rutas con nombre</h4>
<p>Es posible asignar nombres a las rutas que sirvan para referirnos a ellas. De esta forma, en caso de que la URL de una ruta cambie, únicamente tendremos que cambiarlo en el router y no en todos los ficheros HTML donde estemos enlazando a dicha ruta.</p>
<p>Para especificar el nombre a una ruta debemos utilizar la función <code>name()</code>, la cual deberá recibir como parámetro el nombre que se desea asignar a la ruta:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/articulos&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">&quot;Ruta con nombre!&quot;</span><span class="p">;</span>
<span class="p">})</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.index&#39;</span><span class="p">);</span>
</code></pre></div>
<p>En un futuro veremos cómo generar las URLs a partir de su nombre. Por ejemplo, en lugar de utilizar:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/articulos&quot;</span><span class="p">&gt;</span>Ver artículos<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</code></pre></div>
<p>utilizaremos:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ route(&#39;articulos.index&#39;) }}&quot;</span><span class="p">&gt;</span>Ver artículos<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</code></pre></div>
<h3 id="hands-on-27">Hands on! (2/7)</h3>
<p>Añade a tu aplicación <code>revistapp</code> dos nuevas rutas. 
- <code>articulos/</code>: Devolverá un array de artículos en formato JSON. Asigna el nombre <code>articulos.index</code> a la ruta utilizando la función <code>name()</code>.
- <code>articulos/{id}</code>: Devolverá la siguiente frase: <strong>"Gracias por leer el artículo con id: {id}"</strong>. Asigna el nombre <code>articulos.show</code> a la ruta utilizando la función <code>name()</code>. </p>
<h4 id="solucion">Solución</h4>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/articulos&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nv">$articulos</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span><span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;titulo&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Primer artículo...&quot;</span><span class="p">],</span>
        <span class="p">[</span><span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;titulo&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Segundo artículo...&quot;</span><span class="p">],</span>
        <span class="p">[</span><span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;titulo&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Tercer artículo...&quot;</span><span class="p">],</span>
    <span class="p">];</span>
    <span class="k">return</span> <span class="nv">$articulos</span><span class="p">;</span>
<span class="p">})</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.index&#39;</span><span class="p">);</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;articulos/{id}&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$id</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$frase</span> <span class="o">=</span> <span class="s2">&quot;Gracias por leer el artículo con id: &quot;</span> <span class="o">.</span> <span class="nv">$id</span><span class="p">;</span>
    <span class="k">return</span> <span class="nv">$frase</span><span class="p">;</span>
<span class="p">})</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.show&#39;</span><span class="p">);</span>
</code></pre></div>
<h2 id="paso-3-crear-una-vista">Paso 3 - Crear una vista</h2>
<h4 id="definiendo-una-vista-sencilla">Definiendo una vista sencilla</h4>
<p>Las vistas son plantillas que contienen el HTML que enviará nuestra aplicación a los usuarios. Se almacenan en el directorio <code>/resources/views</code> de nuestro proyecto.</p>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- vista almacenada en /resources/views/articulos.blade.php --&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>¡Vamos a leer unos artículos!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p>Tendrán la extensión <code>.blade.php</code> ya que Laravel utiliza el motor de plantillas <a href="https://laravel.com/docs/9.x/blade">Blade</a>, como veremos más adelante.</p>
<h4 id="devolver-una-vista">Devolver una vista</h4>
<p>Cargar y devolver una vista al usuario es tan sencillo como utilizar la función global (helper) <code>view()</code>:</p>
<p><div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/articulos&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;articulos&#39;</span><span class="p">);</span>
<span class="p">})</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos&#39;</span><span class="p">);</span>
</code></pre></div>
Al indicarle el nombre de la vista como parámetro no es necesario indicar la ruta completa de la vista ni la extensión <code>.blade.php</code>. Laravel asume que las vistas estarán en la carpeta <code>/resources/views</code> y que tendrán la extensión <code>.blade.php</code>.</p>
<h4 id="acceder-a-datos-desde-la-vista">Acceder a datos desde la vista</h4>
<p>Laravel utiliza el motor de plantillas <a href="https://laravel.com/docs/9.x/blade">Blade</a> por defecto. Un motor de plantillas permite crear vistas empleando código HTML junto con código específico del motor empleado. De esta forma podremos mostrar información almacenada en variables, crear condiciones if/else, estructuras repetitivas, etc.</p>
<p>En Blade mostrar datos almacenados en variables es muy sencillo:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php $nombre = &quot;Nora&quot;; ?&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Vamos a leer al escritor {{ $nombre }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p>Tal y como se puede ver en el ejemplo anterior, basta con escribir el nombre de la variable entre llaves <code>{{ }}</code>.
Es una buena práctica evitar mezclar el código PHP con nuestras vistas, por lo que toda la información que necesitemos en las vistas la ubicaremos fuera de ellas. Existen distintas formas de pasarle variables a las vistas:</p>
<p>La primera opción sería utilizando el método <code>with()</code>, pasándole como parámetros el nombre de la variable y su valor:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nv">$nombre</span> <span class="o">=</span> <span class="s2">&quot;Nora&quot;</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;saludo&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">with</span><span class="p">(</span><span class="s1">&#39;nombre&#39;</span><span class="p">,</span> <span class="nv">$nombre</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p>Otra forma sería enviándolo como array:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nv">$nombre</span> <span class="o">=</span> <span class="s2">&quot;Nora&quot;</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;saludo&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">with</span><span class="p">([</span><span class="s1">&#39;nombre&#39;</span> <span class="o">=&gt;</span> <span class="nv">$nombre</span><span class="p">]);</span>
<span class="p">});</span>
</code></pre></div>
<p>También podríamos pasar el array como segundo parámetro de la función <code>view()</code> y no utilizar <code>with()</code>:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nv">$nombre</span> <span class="o">=</span> <span class="s2">&quot;Nora&quot;</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;saludo&#39;</span><span class="p">,[</span><span class="s1">&#39;nombre&#39;</span> <span class="o">=&gt;</span> <span class="nv">$nombre</span><span class="p">]);</span>
<span class="p">});</span>
</code></pre></div>
<p>Blade permite iterar por los datos de una colección o array. El siguiente ejemplo muestra cómo iterar por un array de strings de forma rápida:</p>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- Vista almacenada en resources/views/articulos.blade.php --&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Vamos a leer al escritor {{ $nombre }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Estos son sus últimos artículos:<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
            @foreach ($articulos as $articulo)
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>{{ $articulo }}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
            @endforeach
        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p>En el caso anterior, la vista muestra el valor de la variable <code>nombre</code> e itera por el array <code>articulos</code>, por lo que será necesario proporcionarle dichos datos en la llamada al método <code>view()</code>:</p>
<p><div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/articulos&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nv">$articulos</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Primero&#39;</span><span class="p">,</span> <span class="s1">&#39;Segundo&#39;</span><span class="p">,</span><span class="s1">&#39;Tercero&#39;</span><span class="p">,</span> <span class="s1">&#39;Último&#39;</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;articulos&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;nombre&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Ane Aranceta&#39;</span><span class="p">,</span>
        <span class="s1">&#39;articulos&#39;</span> <span class="o">=&gt;</span> <span class="nv">$articulos</span>
    <span class="p">]);</span>
<span class="p">})</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos&#39;</span><span class="p">);</span>
</code></pre></div>
El motor de plantillas Blade permite el uso de todo tipo de estructuras:</p>
<div class="highlight"><pre><span></span><code>@for ($i = 0; $i <span class="p">&lt;</span> <span class="nt">10</span><span class="err">;</span> <span class="err">$</span><span class="na">i</span><span class="err">++)</span>
    <span class="na">El</span> <span class="na">valor</span> <span class="na">actual</span> <span class="na">es</span> <span class="err">{{</span> <span class="err">$</span><span class="na">i</span> <span class="err">}}</span>
<span class="err">@</span><span class="na">endfor</span>

<span class="err">@</span><span class="na">foreach</span> <span class="err">($</span><span class="na">users</span> <span class="na">as</span> <span class="err">$</span><span class="na">user</span><span class="err">)</span>
    <span class="err">&lt;</span><span class="na">p</span><span class="p">&gt;</span>El usuario: {{ $user-&gt;id }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
@endforeach

@forelse($users as $user)
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>{{ $user-&gt;name }}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
@empty
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>No users<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
@endforelse

@while (true)
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Eso es un bucle infinito.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
@endwhile

@if (count($articulos) === 1)
    Hay un artículo.
@elseif (count($articulos) &gt; 1)
    Hay varios artículos.
@else
    No hay ninguno.
@endif

@unless (Auth::check())
    No estas autenticado.
@endunless
</code></pre></div>
<p>Puedes encontrar toda la información acerca de Blade en la <a href="https://laravel.com/docs/9.x/blade">documentación oficial</a>.</p>
<h3 id="hands-on-37">Hands on! (3/7)</h3>
<p>Actualiza las rutas de tu aplicación para que comiencen a devolver vistas al usuario: 
- <code>/articulos</code>: Devolverá una vista que muestre los artículos en una tabla. La primera columna tendrá un enlace a la ruta del artículo, utilizando su <code>id</code>. La segunda columna contendrá el título del artículo.
- <code>articulos/{id}</code>: Devolverá una vista que contenga un párrafo con la siguiente frase: <strong>"Gracias por leer el artículo con id {id}"</strong>. También tendrá un enlace para voler a cargar ruta que muestra todos los arículos. </p>
<h4 id="solucion_1">Solución</h4>
<p><code>/resources/views/articulos/index.blade.php</code>:
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>RevistApp<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Revistapp<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Listado artículos:<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">table</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Enlace<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Título<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
        @foreach ($articulos as $articulo)
        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ route(&#39;articulos.show&#39;, $articulo[&#39;id&#39;]) }}&quot;</span><span class="p">&gt;</span>Ver<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ ($articulo[&#39;titulo&#39;]) }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
        @endforeach
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<code>/resources/views/articulos/show.blade.php</code>:
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>RevistApp<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Revistapp<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Detalle del artículo:<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Gracias por leer el artículo con id: {{ $id }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ route(&#39;articulos.index&#39;) }}&quot;</span><span class="p">&gt;</span>Volver<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<code>routes/web.php</code>:
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/articulos&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nv">$articulos</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span><span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;titulo&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Primer artículo...&quot;</span><span class="p">],</span>
        <span class="p">[</span><span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;titulo&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Segundo artículo...&quot;</span><span class="p">],</span>
        <span class="p">[</span><span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;titulo&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Tercer artículo...&quot;</span><span class="p">],</span>
    <span class="p">];</span>
    <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;articulos.index&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;articulos&#39;</span> <span class="o">=&gt;</span> <span class="nv">$articulos</span>
    <span class="p">]);</span>
<span class="p">})</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.index&#39;</span><span class="p">);</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;articulos/{id}&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$id</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;articulos.show&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="nv">$id</span>
    <span class="p">]);</span>
<span class="p">})</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.show&#39;</span><span class="p">);</span>
</code></pre></div></p>
<h2 id="paso-4-crear-un-controlador">Paso 4 - Crear un Controlador</h2>
<p>Los controladores <strong>contienen la lógica</strong> para atender las peticiones recibidas. En otras palabras, un Controlador es una clase que agrupa el comportamiento de todas las peticiones <strong>relacionadas con una misma entidad</strong>. Por ejemplo, el controlador <code>ArticuloController</code> será el encargado de definir el comportamiento de acciones como: creación de un artículo, modificación de un artículo, búsqueda de artículos, etc.</p>
<h4 id="creando-un-controller">Creando un Controller</h4>
<p>Existen dos formas de crear un controlador:</p>
<ul>
<li>Crear manualmente una clase que extienda de la clase <code>Controller</code> de Laravel dentro del directorio <code>app/Http/Controllers</code>.</li>
<li>Utilizar el comando de Artisan <code>make:controller</code>. Artisan es una herramienta que nos provee Laravel para interactuar con la aplicación y ejecutar instrucciones.</li>
</ul>
<p>En este caso escogeremos la segunda opción y ejecutaremos el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>php artisan make:controller ArticuloController
# recuerda que si estás utilizado Sail el comando será: sail artisan ...
</code></pre></div>
<p>De este modo Laravel creará automáticamente un controlador vacío, que vendrá a ser una subclase de la clase <code>Controller</code>:.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Http\Controllers</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Illuminate\Http\Request</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ArticuloController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="c1">//</span>
<span class="p">}</span>
</code></pre></div>
<p>Como hemos comentado antes los <strong>controladores son los responsables de procesar las peticiones entrantes y devolver al cliente la respuesta</strong>. Es decir, el router únicamente tendrá que invocar al controlador correspondiente para que atienda la petición entrante.</p>
<p>En el siguiente ejemplo se muestra cómo añadirle métodos que devuelvan vistas (como se puede ver en el caso de la función de nombre <code>show()</code>). Tal y como se puede apreciar, moveremos la lógica de la aplicación del router al controlador.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Http\Controllers</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Http\Controllers\Controller</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\User</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ArticuloController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * Show the profile for the given user.</span>
<span class="sd">     *</span>
<span class="sd">     * @param  int  $id</span>
<span class="sd">     * @return View</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">show</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;articulos.show&#39;</span><span class="p">,</span> <span class="p">[</span>
            <span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="nv">$id</span>
        <span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Es posible añadir más opciones al comando <code>make:controller</code>, aunque el único obligatorio es el nombre del controlador.  por ejemplo el flag  <code>--resource</code> al comando anterior, Artisan incluirá en el controlador creado los siete métodos REST más comunes: <code>index()</code>, <code>create()</code>, <code>store()</code>, <code>show()</code>, <code>edit()</code>, <code>update()</code>, <code>destroy()</code>:</p>
<div class="highlight"><pre><span></span><code>php artisan make:controller ArticuloController --resource
</code></pre></div>
<p>Cada método tiene su función:</p>
<table>
<thead>
<tr>
<th>Tipo</th>
<th>URI</th>
<th>Método</th>
<th>Acción</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>/articulos</td>
<td>index</td>
<td>Muestra todos los artículos</td>
</tr>
<tr>
<td>GET</td>
<td>/articulos/create</td>
<td>create</td>
<td>Muestra el formulario para crear un artículo</td>
</tr>
<tr>
<td>POST</td>
<td>/articulos</td>
<td>store</td>
<td>Guarda un nuevo artículo a partir de la información recibida</td>
</tr>
<tr>
<td>GET</td>
<td>/articulos/{id}</td>
<td>show</td>
<td>Muestra la información de un artículo específico</td>
</tr>
<tr>
<td>GET</td>
<td>/articulos/{id}/edit</td>
<td>edit</td>
<td>Muestra el formulario de edición de un artículo que ya existe</td>
</tr>
<tr>
<td>PUT/PATCH</td>
<td>/articulos/{id}</td>
<td>update</td>
<td>Guardar los cambios del artículo indicado a partir de la información recibida</td>
</tr>
<tr>
<td>DELETE</td>
<td>/articulos/{id}</td>
<td>destroy</td>
<td>Elimina el artículo con el ID indicado</td>
</tr>
</tbody>
</table>
<h4 id="enrutar-el-controlador">Enrutar el Controlador</h4>
<p>El siguiente paso es incluir en el Router las llamadas a los métodos del Controlador. En este caso crearemos las siguientes como ejemplo:</p>
<p><div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">App\Http\Controllers\ArticuloController</span><span class="p">;</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;articulos/&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">ArticuloController</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.index&#39;</span><span class="p">);</span>
<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;articulos/{id}&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">ArticuloController</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;show&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.show&#39;</span><span class="p">);</span>
<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;articulos/create&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">ArticuloController</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;create&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.create&#39;</span><span class="p">);</span>
<span class="nx">Route</span><span class="o">::</span><span class="na">post</span><span class="p">(</span><span class="s1">&#39;articulos/&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">ArticuloController</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;store&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.store&#39;</span><span class="p">);</span>
</code></pre></div>
De esta forma direccionaremos las peticiones a los métodos de los controladores. Recuerda que el router no debe incluir ninguna lógica de la aplicación, únicamente redireccionar las peticiones a los controladores.</p>
<p>Existe también otra forma más rápida para generar automáticamente las rutas a todos los métodos de nuestro controlador:</p>
<div class="highlight"><pre><span></span><code><span class="x">Route::resource(&#39;articulos&#39;, ArticuloController::class);</span>
</code></pre></div>
<p>Si ejecutamos el comando <code>php artisan route:list</code> podemos comprobar cómo ya disponemos de todas las rutas a nuestro recurso y que cada una apunta al método correspondiente en el controlador.</p>
<p>Esta opción de <code>Route::resource</code> también ofrece la posibilidad de generar únicamente las rutas que le indiquemos. El siguiente ejemplo muestra como generar únicamene las rutas index y create utilizando el método <code>only()</code>:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">resource</span><span class="p">(</span><span class="s1">&#39;articulos&#39;</span><span class="p">,</span> <span class="nx">ArticuloController</span><span class="o">::</span><span class="na">class</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">only</span><span class="p">([</span>
    <span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="s1">&#39;create&#39;</span>
<span class="p">]);</span>
</code></pre></div>
<h3 id="hands-on-47">Hands on! (4/7)</h3>
<p>Crea un controlador llamado <code>ArticuloController.php</code> y mueve la lógica de las dos rutas del router <code>articulos/</code> y <code>articulos/{id}</code> al nuevo controlador.</p>
<h4 id="solucion_2">Solución</h4>
<p><code>/App/Http/Controllers/ArticuloController.php</code>:
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Http\Controllers</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Http\Request</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ArticuloController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$articulos</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;titulo&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Primer artículo...&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;titulo&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Segundo artículo...&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;id&quot;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;titulo&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Tercer artículo...&quot;</span><span class="p">],</span>
        <span class="p">];</span>
        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;articulos.index&#39;</span><span class="p">,</span> <span class="p">[</span>
            <span class="s1">&#39;articulos&#39;</span> <span class="o">=&gt;</span> <span class="nv">$articulos</span>
        <span class="p">]);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">show</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;articulos.show&#39;</span><span class="p">,</span> <span class="p">[</span>
            <span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="nv">$id</span>
        <span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p>El router pasará a indicar el controlador y el método que se encargará de cada petición:
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">App\Http\Controllers\ArticuloController</span><span class="p">;</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;articulos&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">ArticuloController</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.index&#39;</span><span class="p">);</span>
<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;articulos/{id}&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">ArticuloController</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;show&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.show&#39;</span><span class="p">);</span>
</code></pre></div></p>
<h2 id="paso-5-configurar-la-base-de-datos">Paso 5 - Configurar la base de datos</h2>
<p>Es muy difícil de imaginar una aplicación web que no haga uso de una base de datos para almacenar la información. A continuación veremos como preparar la base de datos para nuestra aplicación.</p>
<h4 id="configuracion-de-la-base-de-datos">Configuración de la base de datos</h4>
<p>El fichero <code>.env</code> de Laravel contiene la configuración relacionada con la aplicación y el entorno, como por ejemplo la configuración de la base de datos. Abre el fichero <code>.env</code> para visualizar las credenciales de la base de datos:</p>
<p><div class="highlight"><pre><span></span><code># Ejemplo de configuración creada por Laravel Sail
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=revistapp
DB_USERNAME=sail
DB_PASSWORD=password
</code></pre></div>
Todas estas variables de configuración serán referenciadas desde el archivo de configuración <code>database.php</code>.</p>
<h4 id="solo-en-homestead-creacion-de-la-base-de-datos">(Solo en Homestead) Creación de la base de datos</h4>
<p>Este paso <strong>solo será necesario si estamos utilizando Laravel Homestead</strong> y no le hemos indicado a Homestead en su archivo de configuración <code>Homestead.yaml</code> que cree una base de datos. Para crear la base de datos accede al cliente de MySQL como root:</p>
<div class="highlight"><pre><span></span><code>mysql -u root
</code></pre></div>
<p>Crea la base de datos si no está creada:</p>
<div class="highlight"><pre><span></span><code>CREATE DATABASE revistapp;
</code></pre></div>
<h4 id="crear-un-usuario-de-base-de-datos">Crear un usuario de base de datos</h4>
<p>Es recomendable utilizar un usuario de base de datos diferente a <code>root</code>. Si deseas crear un nuevo usuario con permisos de acceso únicamente para la base de datos de la aplicación, ejecuta lo siguiente desde MySQL:</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="s1">&#39;nombre_usuario&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span><span class="w"> </span><span class="n">IDENTIFIED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="s1">&#39;tu_contrasena&#39;</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>El comando anterior crea el usuario con la contraseña indicada. El siguiente paso es otorgar permisos al usuario:</p>
<div class="highlight"><pre><span></span><code><span class="k">GRANT</span><span class="w"> </span><span class="k">ALL</span><span class="w"> </span><span class="k">PRIVILEGES</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="s1">&#39;nombre_usuario&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>Para que los cambios surjan efecto ejecuta lo siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="n">FLUSH</span><span class="w"> </span><span class="k">PRIVILEGES</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>No olvides actualizar los datos de acceso a base de datos en el fichero de configuración <code>.env</code>.</p>
<h2 id="paso-6-crear-la-migracion-migration">Paso 6 - Crear la Migración (Migration)</h2>
<p>Las Migraciones (Migrations) se utilizan para construir el esquema de la base de datos, es decir, crear y modificar las tablas que utilizará nuestra aplicación. Ejecuta el siguiente comando de Artisan para crear una nueva Migración para una tabla que llamaremos "articulos". </p>
<div class="highlight"><pre><span></span><code>php artisan make:migration create_articulos_table --create=articulos
</code></pre></div>
<p>Laravel creará una nueva migración automáticamente en el directorio <code>database/migrations</code>. El nombre del archivo creado será el indicado en el comando anterior, en este caso <code>create_articulos_table</code>, precedido por un timestamp, por ejemplo: <code>2022_12_21_162755_create_articulos_table.php</code>.</p>
<p>El contenido de la clase creada será el siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Illuminate\Database\Migrations\Migration</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Schema\Blueprint</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Schema</span><span class="p">;</span>

<span class="k">return</span> <span class="k">new</span> <span class="k">class</span> <span class="nc">extends</span> <span class="nx">Migration</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * Run the migrations.</span>
<span class="sd">     *</span>
<span class="sd">     * @return void</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">up</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;articulos&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">Blueprint</span> <span class="nv">$table</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">();</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">timestamps</span><span class="p">();</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * Reverse the migrations.</span>
<span class="sd">     *</span>
<span class="sd">     * @return void</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">down</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">dropIfExists</span><span class="p">(</span><span class="s1">&#39;articulos&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<p>Tal y como puedes deducir del código anterior, una migración contiene 2 métodos:</p>
<ul>
<li><code>up()</code>: se utiliza para crear nuevas tablas, columnas o índices a la base de datos.</li>
<li><code>down()</code>: se utiliza para revertir operaciones realizadas por el método <code>up()</code>.</li>
</ul>
<p>El siguiente paso es implementar el método <code>up()</code> para que cree las columnas tal y como queremos:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">public</span> <span class="k">function</span> <span class="nf">up</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nx">Schema</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;articulos&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">Blueprint</span> <span class="nv">$table</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Completar con los campos que queremos que contenta la tabla &#39;articulos&#39;:</span>
        <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">();</span> <span class="c1"># Columna de tipo integer autoincremental (equivalente a UNSIGNED INTEGER)</span>
        <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">string</span><span class="p">(</span><span class="s1">&#39;titulo&#39;</span><span class="p">);</span> <span class="c1"># Columna de tipo string (equivalente a VARCHAR)</span>
        <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">text</span><span class="p">(</span><span class="s1">&#39;contenido&#39;</span><span class="p">);</span> <span class="c1"># Columna de tipo text (equivalente a TEXT)</span>
        <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">timestamps</span><span class="p">();</span> <span class="c1"># Crea las columnas created_at y updated_at de tipo TIMESTAMP.</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="sd">/**</span>
<span class="sd"> * Reverse the migrations.</span>
<span class="sd"> *</span>
<span class="sd"> * @return void</span>
<span class="sd"> */</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">down</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nx">Schema</span><span class="o">::</span><span class="na">dropIfExists</span><span class="p">(</span><span class="s1">&#39;articulos&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Aparte de <code>id()</code>, <code>string()</code> o <code>integer()</code>, existen una gran variedad de tipos de columnas disponibles para definir las tablas. Puedes encontrarlas en la <a href="https://laravel.com/docs/9.x/migrations#creating-columns">documentación oficial</a>.</p>
<p>Una vez tenemos definida una migración, solo quedará ejecutarla para que así se ejecute en nuestra base de datos y aplique los cambios indicados. Para ejecutar las migraciones simplemente lanza el comando <code>migrate</code> de Artisan:</p>
<div class="highlight"><pre><span></span><code>php artisan migrate
</code></pre></div>
<h3 id="hands-on-57">Hands on! (5/7)</h3>
<p>Crea una migración para una tabla llamada <code>articulos</code> siguiendo los pasos anteriormente descritos. Completa la función <code>up()</code> para definir la tabla y lanza la migración.</p>
<h2 id="paso-7-crear-un-modelo">Paso 7 - Crear un Modelo</h2>
<p>Laravel incluye por defecto Eloquent ORM, el cual hace de la <strong>interacción con la base de datos</strong> una tarea fácil. Tal y como dice la documentación oficial:</p>
<blockquote>
<p>Each database table has a corresponding "Model" which is used to interact with that table. Models allow you to query for data in your tables, as well as insert new records into the table.</p>
</blockquote>
<p>En otras palabras, cada tabla de la base de datos corresponde a un Modelo, el cual permite ejecutar operaciones sobre esa tabla (insertar o leer registros por ejemplo). Este patrón es conocido como Active Record Pattern.</p>
<p>El nombre del modelo será la forma singular del nombre asignado a la tabla de la base de datos. Por ejemplo: <code>User</code> será el modelo correspondiente a la tabla <code>users</code>.</p>
<h3 id="creando-un-modelo">Creando un Modelo</h3>
<p>Vamos a crear un Modelo:</p>
<div class="highlight"><pre><span></span><code>php artisan make:model Articulo
</code></pre></div>
<p>El comando anterior ha creado una clase llamada Articulo en el directorio <code>app/Models</code> (es el directorio por defecto para los modelos de Eloquent a partir de Laravel 8).</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Models</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Illuminate\Database\Eloquent\Model</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Articulo</span> <span class="k">extends</span> <span class="nx">Model</span>
<span class="p">{</span>
    <span class="c1">//</span>
<span class="p">}</span>
</code></pre></div>
<p>Por defecto un modelo de Eloquent almacena los registros en una tabla con el mismo nombre pero en plural. En este caso, <code>Articulo</code> interactuará con la tabla de la base de datos llamada <code>articulos</code>.</p>
<p>Laravel protege por defecto los modelos de forma que no se puedan generar registros de forma "masiva", es decir, en una única petición. De esta forma nos protegemos por ejemplo de que un usuario al editar su perfil pueda cambiar el valor de una propiedad llamada <code>is_admin</code>. Para que Laravel permita crear un artículo desde un formulario común, debemos indicarle los campos que podrán ser completados y procesados. Para ello incluimos los nombres de los campos en una propiedad llamada <code>fillable</code>.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Illuminate\Database\Eloquent\Model</span><span class="p">;</span>
<span class="k">class</span> <span class="nc">Articulo</span> <span class="k">extends</span> <span class="nx">Model</span>
<span class="p">{</span>
    <span class="k">use</span> <span class="nx">HasFactory</span><span class="p">;</span>
    <span class="k">protected</span> <span class="nv">$fillable</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;titulo&#39;</span><span class="p">,</span>
        <span class="s1">&#39;contenido&#39;</span><span class="p">,</span>
    <span class="p">];</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="consultando-datos-de-la-base-de-datos">Consultando datos de la base de datos</h3>
<p>Los modelos de Eloquent se pueden utilizar para recuperar información de las tablas relacionadas con ese modelo. Proporcionan métodos como los siguientes:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">App\Models\Articulo</span><span class="p">;</span>

<span class="c1">// Recupera todos los modelos</span>
<span class="nv">$articulos</span> <span class="o">=</span> <span class="nx">Articulo</span><span class="o">::</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// Recupera un modelo a partir de su clave</span>
<span class="nv">$articulo</span> <span class="o">=</span> <span class="nx">Articulo</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// Recupera el primer modelo que cumpla con los criterios indicados</span>
<span class="nv">$articulos</span> <span class="o">=</span> <span class="nx">Articulo</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">first</span><span class="p">();</span>

<span class="c1">// Recupera los modelos que cumplan con los criterios indicados y de la forma indicada:</span>
<span class="nv">$articulos</span> <span class="o">=</span> <span class="nx">Articulo</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
               <span class="o">-&gt;</span><span class="na">orderBy</span><span class="p">(</span><span class="s1">&#39;titulo&#39;</span><span class="p">,</span> <span class="s1">&#39;desc&#39;</span><span class="p">)</span>
               <span class="o">-&gt;</span><span class="na">take</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
               <span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>
</code></pre></div>
<p>Es posible iterar por la colección que devuelven los métodos <code>all()</code>, <code>get()</code> o <code>first()</code> de la siguiente forma:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$articulos</span> <span class="k">as</span> <span class="nv">$articulo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$articulo</span><span class="o">-&gt;</span><span class="na">titulo</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Es importante mencionar que los métodos como <code>all()</code> o <code>get</code> no devuelven arrays típicos de PHP si no que devuelven una instancia de la clase <code>Collection</code> de Laravel. La diferencia es que estas colecciones tienen métodos adicionales que pueden ayudarnos en distintas situaciones, como por ejemplo: <code>last()</code>, <code>count()</code>, <code>sort()</code>, <code>merge()</code>, <code>filter()</code>, ...
Puedes encontrar la lista de estos métodos de ayuda aquí: <a href="https://laravel.com/docs/9.x/collections#available-methods">https://laravel.com/docs/9.x/collections#available-methods</a></p>
<h3 id="insertar-informacion-en-la-base-de-datos">Insertar información en la base de datos</h3>
<p>El flujo de interacción que seguirá un usuario para insertar nuevos registros (artículos en nuestro caso) será el siguiente:
1. Acceder a la página con el formulario para enviar los datos. La ruta a la que deberá acceder será la siguiente: <code>articulos/create/</code>
2. Enviar los datos del formulario. La ruta que recibirá los datos será la siguiente: <code>articulos/</code> (POST).
3. Una vez enviados los datos, si todo ha ido bien nuestra aplicación le mostrará una nueva página.</p>
<p>Por lo tanto, será necesario crear dos nuevas rutas que invoquen a los métodos <code>create()</code> y <code>store()</code> del controlador.</p>
<p>El fichero <code>/routes/web.php</code> quedará así:
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">App\Http\Controllers\ArticuloController</span><span class="p">;</span>

<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;articulos&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">ArticuloController</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.index&#39;</span><span class="p">);</span>
<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;articulos/create&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">ArticuloController</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;create&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.create&#39;</span><span class="p">);</span>
<span class="nx">Route</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;articulos/{id}&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">ArticuloController</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;show&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.show&#39;</span><span class="p">);</span>
<span class="nx">Route</span><span class="o">::</span><span class="na">post</span><span class="p">(</span><span class="s1">&#39;articulos/&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nx">ArticuloController</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="s1">&#39;store&#39;</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">(</span><span class="s1">&#39;articulos.store&#39;</span><span class="p">);</span>
</code></pre></div></p>
<p>La ruta empleada para mostrar el formulario será de tipo <code>GET</code> y la encargada de almacenar los datos será de tipo <code>POST</code>.</p>
<p>A continuación será necesario implementar los métodos del controlador:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Http\Controllers</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Models\Articulo</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Http\Request</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ArticuloController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">create</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;articulos.create&#39;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">store</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">//Validar la petición:</span>
        <span class="nv">$validated</span> <span class="o">=</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">validate</span><span class="p">([</span>
            <span class="s1">&#39;titulo&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;required|string|max:255&#39;</span><span class="p">,</span>
            <span class="s1">&#39;contenido&#39;</span> <span class="o">=&gt;</span><span class="s1">&#39;required|string&#39;</span>
        <span class="p">]);</span>
        <span class="cm">/* Si la validación falla se redirigirá al usuario </span>
<span class="cm">        a la página previa. Si pasa la validación, el controlador </span>
<span class="cm">        continuará ejecutándose.</span>
<span class="cm">        */</span>

        <span class="c1">// Insertar el artículo en la BBDD tras su validación.</span>
        <span class="nx">Articulo</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="nv">$validated</span><span class="p">);</span>

        <span class="k">return</span> <span class="nx">redirect</span><span class="p">(</span><span class="nx">route</span><span class="p">(</span><span class="s1">&#39;articulos.index&#39;</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>En el método <code>store()</code> se ha incluido una validación de los datos. Para conocer más acerca de las validaciones automáticas que Laravel puede hacer por nosotros, puedes visitar <a href="https://laravel.com/docs/9.x/validation">este enlace</a>.</p>
<p>Si no se quiere validar los datos (no recomendado) se podría haber creado el nuevo artículo de la siguiente forma:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

    <span class="o">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">store</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">)</span>
    <span class="p">{</span>

        <span class="nv">$articulo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Articulo</span><span class="p">;</span>
        <span class="nv">$articulo</span><span class="o">-&gt;</span><span class="na">titulo</span> <span class="o">=</span> <span class="nx">request</span><span class="p">(</span><span class="s1">&#39;titulo&#39;</span><span class="p">);</span>
        <span class="nv">$articulo</span><span class="o">-&gt;</span><span class="na">contenido</span> <span class="o">=</span> <span class="nx">request</span><span class="p">(</span><span class="s1">&#39;contenido&#39;</span><span class="p">);</span>
        <span class="nv">$articulo</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>

        <span class="c1">// Otra alternativa para la inserción:</span>
        <span class="nv">$articulo</span> <span class="o">=</span> <span class="nx">Articulo</span><span class="o">::</span><span class="na">create</span><span class="p">([</span>
            <span class="s1">&#39;titulo&#39;</span> <span class="o">=&gt;</span> <span class="nx">request</span><span class="p">(</span><span class="s1">&#39;titulo&#39;</span><span class="p">),</span>
            <span class="s1">&#39;contenido&#39;</span> <span class="o">=&gt;</span> <span class="nx">request</span><span class="p">(</span><span class="s1">&#39;contenido&#39;</span><span class="p">)</span>
         <span class="p">]);</span>

        <span class="k">return</span> <span class="nx">redirect</span><span class="p">(</span><span class="nx">route</span><span class="p">(</span><span class="s1">&#39;articulos.index&#39;</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>En el ejemplo anterior se puede apreciar que el método <code>request()</code> permite acceder a los datos enviados en la petición.</p>
<p>Por último, quedaría crear la vista que muestre el formulario:</p>
<p><code>/resources/views/articulos/create.blade.php</code>:
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>RevistApp<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Revistapp<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Crear un artículo:<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;POST&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;{{ route(&#39;articulos.store&#39;) }}&quot;</span><span class="p">&gt;</span>
        @csrf
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">label</span><span class="p">&gt;</span>Titulo: <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;titulo&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">label</span><span class="p">&gt;</span>Contenido: <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;contenido&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>Crear<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ route(&#39;articulos.index&#39;) }}&quot;</span><span class="p">&gt;</span>Volver<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
La directiva @csrf agrega un campo oculto con el Token de usuario para que Laravel nos proteja automáticamente de ataques XSS o de suplantación de identidad. Es necesario agregar siempre esta directiva.</p>
<h3 id="valores-por-defecto-de-un-modelo">Valores por defecto de un modelo</h3>
<p>Al crear una instancia nueva de un modelo, los atributos de la instancia no tendrán ningún valor establecido. Si queremos definir valores por defecto, es posible hacerlo de la siguiente forma:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Models</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Illuminate\Database\Eloquent\Model</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Articulo</span> <span class="k">extends</span> <span class="nx">Model</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * The model&#39;s default values for attributes.</span>
<span class="sd">     *</span>
<span class="sd">     * @var array</span>
<span class="sd">     */</span>
    <span class="k">protected</span> <span class="nv">$attributes</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;publicado&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
    <span class="p">];</span>
<span class="p">}</span>
</code></pre></div>
<p>El ejemplo anterior muestra cómo establecer el atributo <code>publicado</code> como <code>false</code> cada vez que creemos un nuevo objeto de la clase <code>Articulo</code>.</p>
<h3 id="alternativas-a-eloquent-orm">Alternativas a Eloquent ORM</h3>
<p>Laravel también permite interactuar con la base de datos mediante otras técnicas distintas a Eloquent ORM. Las alternativas disponibles son:</p>
<ul>
<li>Raw SQL: se trata de ejecutar sentencias SQL directamente contra la base de datos. Tienes toda la información disponible <a href="https://laravel.com/docs/9.x/database">aquí</a>.</li>
<li>Query Builder: es una interfaz de comunicación con la base de datos que permite lanzar prácticamente cualquier consulta. A diferencia de la anterior, no es tan eficiente en cuanto a rendimiento pero aporta otras ventajas como la seguridad y abstracción de base de datos. Tienes toda la información disponible <a href="https://laravel.com/docs/9.x/queries">aquí</a>.</li>
</ul>
<h3 id="tinker-un-potente-repl-para-laravel">Tinker: un potente REPL para Laravel</h3>
<p>Tinker es un potente <a href="https://es.wikipedia.org/wiki/REPL">REPL</a> o <strong>consola interactiva</strong> que viene por defecto en Laravel. Resulta muy útil durante el desarrollo ya que permite interactuar con nuestra aplicación Laravel y probar cantidad de cosas: eventos, acceso a datos, etc.
Para iniciar Tinker hay que ejecutar el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>php artisan tinker
</code></pre></div>
<p>A partir de ese momento se puede comenzar a interactuar con nuestra aplicación, como muestra el ejemplo a continuación:</p>
<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; <span class="nv">$articulo</span> <span class="o">=</span> new App<span class="se">\M</span>odels<span class="se">\A</span>rticulo
<span class="o">=</span>&gt; App<span class="se">\A</span>rticulo <span class="o">{</span><span class="c1">#3014}</span>
&gt;&gt;&gt; <span class="nv">$articulo</span>-&gt;titulo<span class="o">=</span><span class="s2">&quot;AA&quot;</span><span class="p">;</span>
<span class="o">=</span>&gt; <span class="s2">&quot;AA&quot;</span>
&gt;&gt;&gt; <span class="nv">$articulo</span>-&gt;contenido<span class="o">=</span><span class="s2">&quot;BBBB&quot;</span><span class="p">;</span>
<span class="o">=</span>&gt; <span class="s2">&quot;BBBB&quot;</span>
&gt;&gt;&gt; <span class="nv">$articulo</span>
<span class="o">=</span>&gt; App<span class="se">\M</span>odels<span class="se">\A</span>rticulo <span class="o">{</span><span class="c1">#3014</span>
     titulo: <span class="s2">&quot;Articulo numero 2&quot;</span>,
     contenido: <span class="s2">&quot;Lorem ipsum...&quot;</span>,
   <span class="o">}</span>
&gt;&gt;&gt; <span class="nv">$articulos</span>-&gt;save<span class="o">()</span><span class="p">;</span>
&gt;&gt;&gt; App<span class="se">\M</span>odels<span class="se">\A</span>rticulo::count<span class="o">()</span><span class="p">;</span>
<span class="o">=</span>&gt; <span class="m">2</span>
&gt;&gt;&gt; <span class="nv">$articulos</span> <span class="o">=</span> App<span class="se">\M</span>odels<span class="se">\A</span>rticulo::all<span class="o">()</span><span class="p">;</span>
<span class="o">=</span>&gt; Illuminate<span class="se">\D</span>atabase<span class="se">\E</span>loquent<span class="se">\C</span>ollection <span class="o">{</span><span class="c1">#3035</span>
     all: <span class="o">[</span>
       App<span class="se">\M</span>odels<span class="se">\A</span>rticulo <span class="o">{</span><span class="c1">#3036</span>
         id: <span class="m">1</span>,
         titulo: <span class="s2">&quot;Articulo numero 1&quot;</span>,
         contenido: <span class="s2">&quot;Lorem ipsum...&quot;</span>,
         created_at: null,
         updated_at: null,
       <span class="o">}</span>,
       App<span class="se">\M</span>odels<span class="se">\A</span>rticulo <span class="o">{</span><span class="c1">#3046</span>
         id: <span class="m">2</span>,
         titulo: <span class="s2">&quot;Articulo numero 2&quot;</span>,
         contenido: <span class="s2">&quot;Lorem ipsum...&quot;</span>,
         created_at: <span class="s2">&quot;2019-12-15 15:32:04&quot;</span>,
         updated_at: <span class="s2">&quot;2019-12-15 15:32:04&quot;</span>,
       <span class="o">}</span>,
     <span class="o">]</span>,
   <span class="o">}</span>
</code></pre></div>
<p>Para salir se ejecuta el comando <code>exit</code>.</p>
<h3 id="hands-on-67">Hands on! (6/7)</h3>
<p>Crea una vista para crear nuevos artículos y los métodos <code>create()</code> y <code>store()</code> en los controladores. De esta forma tu aplicación ya podrá crear artículos sin problemas. Tienes las soluciones en los códigos proporcionados junto con la explicación.</p>
<h3 id="hands-on-77">Hands on! (7/7)</h3>
<ul>
<li>Actualiza el método <code>index()</code> para que utilice los datos almacenados en la base de datos. Puedes utilizar el método <code>all()</code> para recoger todos los artículos de la base de datos.</li>
<li>Actualiza el método <code>show()</code> para que muestre el título y el contenido del artículo seleccionado.</li>
<li>Añade también en la página incial un enlace a la página de creación de artículos.</li>
</ul>
<h4 id="solucion_3">Solución</h4>
<p><code>/App/Http/Controllers/ArticuloController.php</code>:
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Http\Controllers</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Illuminate\Http\Request</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">App\Models\Articulo</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ArticuloController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$articulos</span> <span class="o">=</span> <span class="nx">Articulo</span><span class="o">::</span><span class="na">all</span><span class="p">();</span>
        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;articulos.index&#39;</span><span class="p">,</span> <span class="p">[</span>
            <span class="s1">&#39;articulos&#39;</span> <span class="o">=&gt;</span> <span class="nv">$articulos</span>
        <span class="p">]);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">show</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$articulo</span> <span class="o">=</span> <span class="nx">Articulo</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;articulos.show&#39;</span><span class="p">,</span> <span class="p">[</span>
            <span class="s1">&#39;articulo&#39;</span> <span class="o">=&gt;</span> <span class="nv">$articulo</span>
        <span class="p">]);</span>
    <span class="p">}</span>

    <span class="o">...</span>

<span class="p">}</span>
</code></pre></div></p>
<p>Actualiza la vista <code>index.blade.php</code> para que utilice los datos correctamente y muestre el nuevo enlace:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>RevistApp<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Revistapp<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Listado artículos:<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ route(&#39;articulos.create&#39;) }}&quot;</span><span class="p">&gt;</span>Crear nuevo<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">table</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Enlace<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;&lt;</span><span class="nt">th</span><span class="p">&gt;</span>Título<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
        @foreach ($articulos as $articulo)
        <span class="p">&lt;</span><span class="nt">tr</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ route(&#39;articulos.show&#39;, $articulo-&gt;id) }}&quot;</span><span class="p">&gt;</span>Ver<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">td</span><span class="p">&gt;</span>{{ ($articulo-&gt;titulo) }}<span class="p">&lt;/</span><span class="nt">td</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">tr</span><span class="p">&gt;</span>
        @endforeach
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p>Actualiza la vista <code>show.blade.php</code> para que utilice los datos reales del artículo seleccionado:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>RevistApp<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Revistapp<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Detalle del artículo:<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Titulo: {{ $articulo-&gt;titulo }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Contenido: {{ $articulo-&gt;contenido }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ route(&#39;articulos.index&#39;) }}&quot;</span><span class="p">&gt;</span>Volver<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<h2 id="bonus-opciones-flags-de-artisan">Bonus - Opciones (flags) de Artisan</h2>
<p>Existen opciones muy útiles para generar archivos relacionados con los modelos. El siguiente ejemplo <strong>crea un modelo junto con su controlador y migración utilizando un único comando</strong>:</p>
<div class="highlight"><pre><span></span><code>php artisan make:model Articulo -mcr
</code></pre></div>
<ul>
<li>-m indica la creación de una migración</li>
<li>-c indica la creación de un controlador</li>
<li>-r indica que el controlador creado será "resourceful" (incializado con los métodos).</li>
</ul>
<h2 id="siguientes-pasos">Siguientes pasos</h2>
<p>Ahora que ya tienes creada una aplicación de Laravel capaz de mostrar y almacenar datos desde la base de datos, puedes seguir avanzando con funcionalidades algo más avanzadas.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Volver al principio
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2023 Jon Vadillo - Licencia CC BY-NC-SA
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://twitter.com/jonvadillo" target="_blank" rel="noopener" title="Jon Vadillo on Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    <a href="https://github.com/jvadillo" target="_blank" rel="noopener" title="Jon Vadillo on Github" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "navigation.expand", "navigation.top"], "search": "../assets/javascripts/workers/search.3de43c86.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../assets/javascripts/bundle.ce0331ff.min.js"></script>
      
    
    
  </body>
</html>